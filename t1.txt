Day 1 : Git Commands

git config --global user.name ‚ÄúSameer Kushwaha‚Äù
git config --global user.email ‚Äúsameerkushwaha2003@gmail.com‚Äù
git config --global color.ui auto

--------------------------------------------------------------------------------------------------------------------------------

git add                         ->    to stage changes
--> after adding files will be cached -> to remvoe from the cach : git rm -r --cached .
git commit -m "[some message]"  ->    to commit changes with a message to commit history.
git remote add origin https://github.com/sameer-k212/<repo namee>.git
--> after adding url if you want to remove then : git remote remove origin
git status                      ->    to check the status of your working directory and staging area.

-------------------------------------------------------------------------------------------------------------------------------


// commit history viewing
git log                         ->    See full commit history
git log --oneline               ->    Clean & short (most used üî•)
git log --oneline --graph --all ->    With branch & merge graph (interview favorite)
git log -5                      ->    to view the last 5 commits

// soft reset : undo commit and keep changes staged
// hard reset : undo commit and discard changes
git reset --hard HEAD~1         ->    to undo the last commit and discard changes.(1 can be replaced with any number to go back multiple commits)
git reset --hard [commit_hash]  ->    to reset to a specific commit and discard all changes after it.

--------------------------------------------------------------------------------------------------------------------------------

// after hard reset, you can use git reflog to find the commit hash and recover it
git log --oneline               ->    to view the commit history in short format.
6fd8337 little modification
0a89a0b Git command commit
e5db5f1 commit for 3 commands only

git reflog                      ->    to view the reference log of all your actions in git.
HEAD@{0} 6fd8337 commit: little modification   ‚Üê current
HEAD@{1} 0a89a0b commit: Git command commit
HEAD@{2} e5db5f1 reset: moving to HEAD~1       ‚Üê ‚ö†Ô∏è this is where we did hard reset
HEAD@{3} 54e92e5 commit: commit for 3 commands only once again
HEAD@{4} e5db5f1 commit (initial)

now you can revcover the commit by using git reset --hard [commit_hash]
git reset --hard 54e92e5         ->    to recover the commit we can do this.

git log --oneline        // now you can clealy see the out head moved to recovered commit 
54e92e5 (HEAD -> main) commit for 3 commands only once again
e5db5f1 commit for 3 commands only


-------------------------------------------------------------------------------------------------------------------------------
//senario : if your frnd has did some commit and u haven't pull yet and did changes to your local repo
and try to push to the git remote.
it will give error like this ! [rejected]        main -> main (fetch first)

üö´ What NOT to do (dangerous)
git push --force
‚ùå This can delete your friend‚Äôs work
Use it only if you 100% know what you‚Äôre doing

‚úÖ What TO do (safe)
1. if you added your modified files to staging area and not commited yet: then you can do 
git stash                    ->    to stash your changes temporarily.
and then do 
git pull origin <branch name>  ->    to pull the latest changes from remote.
and then do
git stash pop                ->    to apply your stashed changes back to your working directory.
and the do
git add .
git commit -m "your message"
git push origin <branch name>  ->    to push your changes to remote.

2. if you have added your modifed files to staging area and commited already: then you can do
git reset --soft HEAD~1         ->    to undo the last commit but keep changes staged.
and then do 
git stash                    ->    to stash your changes temporarily.
and then do
git pull origin <branch name>  ->    to pull the latest changes from remote.
and then do
git stash pop                ->    to apply your stashed changes back to your working directory.
and the do
git add .
git commit -m "your message"
git push origin <branch name>  ->    to push your changes to remote.

3. if you have not added your modified files to staging area: then you can do
git stash                    ->    to stash your changes temporarily.
and then do 
git pull origin <branch name>  ->    to pull the latest changes from remote.
and then do
git stash pop                ->    to apply your stashed changes back to your working directory.

---------------------------------------------------------------------------------------------------------------
Git branch command:

// To rename the existing branch name
1. Local Renaming:
Switch to the branch: If you're not already on the branch you want to rename, switch to it using git checkout <old_branch_name>. 
Rename the branch: Use the command git branch -m <new_branch_name> to rename the branch. 
Verify the rename: You can list all branches using "git branch" to confirm the new name.

---------------------------
2. To see Remote Renaming:
git branch       ->üëâ shows local branches only
git branch -r    ->üëâ shows remote branches only



3. If you really want to delete it from the remote repo:
git push origin --delete main
main is the DEFAULT branch on GitHub
üëâ GitHub does NOT allow deleting the default branch
you deleted main locally
you ran:  git push origin --delete main        
it will GitHub said:  ‚ùå ‚ÄúNope. This is my current/default branch.‚Äù
so for that you have to go to you GitHub repo settings and change the default branch 
to some other branch Then you can delete the main branch from remote by using above
command



4. After that, refresh remote refs:
git fetch --prune

5. Now check again:
git branch -r
---------------------------------


2. Push to Remote:
Push the new branch:
Push the renamed branch to the remote repository using 
git push origin -u <new_branch_name>. 
This will create a remote tracking branch with the new name. 
Delete the old branch (optional):
If you want to delete the old branch on the remote, use 
git push origin --delete <old_branch_name>. 


3. To delete the git branch :
git branch -d <branch name> --> if will warn you if you haven't merged completly

to forcefully delate a branch
git branch -D <branch name>




4.fresh starting a new branch- after removing cache data

# Go to your repo
cd your-repo

# Create a new orphan branch (no history)
git checkout --orphan new-branch-name

# Remove all existing files from the index
git rm -rf .

# Add your new file
echo "hello" > yourfile.txt  # example
git add yourfile.txt
git commit -m "Initial commit in empty branch"
git push origin new-branch-name
------------------------------------------------------------------------------------
